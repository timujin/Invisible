[gd_scene load_steps=4 format=2]

[ext_resource path="res://Assets/Player.png" type="Texture" id=1]

[sub_resource type="GDScript" id=4]
script/source = "extends KinematicBody2D

var speed = 100

func _process(delta):
	look_at(get_global_mouse_position())
	
	if Input.is_action_just_pressed(\"fire\"):
		if not $RayCast2D.is_colliding(): return
		get_tree().get_nodes_in_group(\"ShootLiner\")[0].display_line($RayCast2D.get_collision_point())

func _physics_process(delta):
	var move = Vector2()
	if Input.is_action_pressed(\"move_down\"):
		move += Vector2(0,1)
	if Input.is_action_pressed(\"move_up\"):
		move += Vector2(0,-1)
	if Input.is_action_pressed(\"move_left\"):
		move += Vector2(-1,0)
	if Input.is_action_pressed(\"move_right\"):
		move += Vector2(1,0)
	move = move * speed
	move_and_slide(move)"

[sub_resource type="CircleShape2D" id=2]
radius = 19.0

[node name="Player" type="KinematicBody2D" groups=[
"player",
]]
script = SubResource( 4 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 6.60511, 2.34661e-014 )
rotation = 1.5708
scale = Vector2( 0.212819, 0.212819 )
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource( 2 )

[node name="RayCast2D" type="RayCast2D" parent="."]
position = Vector2( 19.17, 0 )
enabled = true
cast_to = Vector2( 1000, 0 )
collision_mask = 14
collide_with_areas = true
